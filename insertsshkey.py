#!/usr/bin/python3
import os

sshpub_key = ""
ssh_path   = "/root/.ssh"
authk_path = ssh_path + "/authorized_keys"

def write_authk(path, mode, key):
	with open(path, mode) as f:
		f.write(key + '\n')

if os.path.isdir(ssh_path):
	if os.path.isfile(ssh_path + "/authorized_keys"):
		write_authk(authk_path, 'a', sshpub_key)
	
	else:
		write_authk(authk_path, 'w', sshpub_key)
else:
	os.mkdir(ssh_path)
	write_authk(authk_path,'w', sshpub_key)
	os.chmod(authk_path, 0o644)
